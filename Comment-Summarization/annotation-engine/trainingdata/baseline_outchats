T72 0 u_Covar : Worth noting PrintWriter will truncate the filesize to zero if the file already exists
T72 0 u_leonbloy : PrintWriter can be (and often is) used, but is not (conceptually) the right class for the job. From the docs: <code>&quot;PrintWriter  prints formatted representations of objects to a text-output stream. &quot;</code> Bozho&#39;s answer is more correct, though it looks cumbersome (you can always wrap it in some utility method).
T72 0 u_adesh singh : will it print the html file as well?
T72 0 u_JBA : @adeshsingh no one ever tried out so faar, be the first one!
T72 0 u_Marlon Abeykoon : So where will the textfile will be created after the app is build and used in another PC since we have not given the path?
T72 0 u_Michael : @MarlonAbeykoon Good question.  The answer is that it will create the text file in the <i>working directory</i>.  The working directory is whatever directory you execute your program from.  For example, if you execute your program from the command line, then the working directory will be whatever directory you are &quot;in&quot; at that moment (on Linux, type &quot;pwd&quot; to see the current working directory).  Or, if I double-click a JAR file on my desktop to run it, then the working directory will be the desktop.
T72 0 u_Rondo : If you want to append and not truncate u can replace PrintWriter with FileWriter: FileWriter(new File (&quot;the-file-name.txt&quot;), true).. one trade-off is FileWriter assumes default character encoding and buffer sizes
T71 0 u_kamoroso94 : The syntax for declaring the byte array is incorrect.  Should be <code>byte[] data = ...</code>.
T71 0 u_Thierry : <code>writer.close()</code> should be in a finally block
T71 0 u_Apollys supports Monica : Why is it bad practice to use <code>PrintWriter</code> for this job? Does it perform more slowly?
T71 0 u_ : @Apollys PrintWriter swallows exceptions: stackoverflow.com/a/1747092/4678667 
T71 0 u_lokesh : I would suggest to use File.createNewFile() method to create and verify file creation success.  It returns a boolean value : true if the file is created successfully. I don&#39;t like waiting for exceptions to tell something has failed. Only after file has been created and you have verified it, start writing data into it. It can save many bytes. <a href="https://howtodoinjava.com/core-java/io/how-to-create-a-new-file-in-java/" rel="nofollow noreferrer">Ref</a>
T73 0 u_Bathsheba : In short then, Java intentionally allows it: the &quot;bug&quot; is in the OP&#39;s IDE?
T73 0 u_Aaron Digulla : @Bathsheba: It&#39;s more in the heads of people. People don&#39;t try to understand how Java parsing works, so IDEs sometimes display the code in a wrong way. In the example above, the comment should end with <code>\u000d</code> and the part after it should have code highlights.
T73 0 u_Aaron Digulla : Another common mistake is to paste Windows paths in the code like <code>&#47;&#47; C:\user\...</code> which leads to a compile error since <code>\user</code> isn&#39;t a valid Unicode escape sequence.
T74 0 u_Reg : I understand introduction of unicode characters, but not so much why it is allowed in comments?
T74 0 u_bluelDe : In eclipse the Code after <code>\u000d</code> is highlighted partially. After pressing Ctrl+Shift+F the character is replaced with new line and rest of line is wrapped
T74 0 u_TheLostMind : So.. this is related to how the compiler parses the source-code file?. This problem can&#39;t be reproduced when we use <i>block comments</i> instead of single line comments
T74 0 u_aioobe : @Reg, there are many features of the language that doesn&#39;t make sense in conjunction with other features of the language. In this case, the language designers put the unicode escape handling before the parser, and being able to use unicode escapes in commens was simply a (possibly unfortunate) side effect.
T74 0 u_Gregor Ra&#253;man : While I agree with the answer from @aioobe that the source code is valid and the problem is rather in the IDE (and the source code highlighter on StackOverflow), please note that there is another &quot;problem&quot; with the code. The CR character entered as unicode escape sequence is interpreted as a correct start of a new line, but the line number is not incremented.
T73 0 u_aioobe : @UmaKanth, <code>&#47;&#47;</code> comments are skipped all the way to the next new-line character. <code>\u000d</code> is interpreted as a new-line character.
T74 0 u_Taemyr : @TheLostMind If I understand the answer correctly you should be able to reproduce this with block comments as well.  <code>\u002A&#47;</code> should end the comment.
T74 0 u_ : @Taemyr wow, \u002A/ is really evil, eclipse utterly fails to parse it. Put code between /*\u002A/ and /\u002a*/ and it's completely hidden as comment. Found this as bug 3533 
T73 0 u_R.. GitHub STOP HELPING ICE : Note that this could have been avoided completely if the language specification had forbidden using <code>\u</code> notation to represent anything representable in ASCII.
T74 0 u_Ben : @r good point, well made. At the very least this should be a Level 1 Compiler Warning.
T74 0 u_Mooing Duck : @R..: That would make it so that if you&#39;re developing on a computer that doesn&#39;t use ASCII, then there are many characters you can&#39;t type in, such as IBM Mainframes that use EBCDIC, which doesn&#39;t have curly braces.
T74 0 u_R.. GitHub STOP HELPING ICE : @TBohne: Do you actually have in mind such a character?
T74 0 u_Mooing Duck : @R..: Yes, curly braces.  <code>{}</code>
T74 0 u_R.. GitHub STOP HELPING ICE : @TBohne: Wikipedia claims they&#39;re at positions C0 and D0 in EBCDIC. It seems pretty ridiculous to expect programmers to use <code>\u</code> escapes for something as ubiquitous as braces...
T74 0 u_Mooing Duck : @R.: A quick glance shows you&#39;re right.  But it also contains &quot;Portability is hindered by a lack of many symbols commonly used in programming and in network communications, such as the curly braces.&quot; and &quot;It exists in at least six mutually incompatible versions&quot;.  I assume it must be a different version.
T74 0 u_supercat : @R..: One wouldn&#39;t have to forbid everything in ASCII if one were to specify that the first pass of compilation is subdivision into lines, and any new-line characters that get introduced after that will be processed as-is, such that <code>string st=&quot;Hello\u000D\u000Athere&quot;</code> would generate a twelve-character string containing a carriage return and a new-line.
T74 0 u_Jean-Fran&#231;ois Savard : If ever anyone is skeptic and want to test the hello world program, the class should be named &quot;Ugly.java&quot;. There is other funny thing that may be caused by this... For example, insert <code>LRM</code> character will allow you to compile code such as <code>for (char c‮ = 1; c‮ &gt; 0; c‮++)</code>
T74 0 u_Jean-Fran&#231;ois Savard : @biziclop Can we call it comment of the day even if it was posted 8 days ago ? :/
T75 0 u_Supuhstar : How efficient is this?
T75 0 u_Trevor Brown : Worth a read: <a href="https://jaxenter.com/java-performance-tutorial-how-fast-are-the-java-8-streams-118830.html" rel="nofollow noreferrer">jaxenter.com/&hellip;</a>  tl;dr - streams could be performant or not, it depends on what you&#39;re doing with them and the constraints of the problem (isn&#39;t this always the answer? lol)
T76 0 u_Marcin Zukowski : Yeah, it&#39;s a risky solution from the performance point of view. It might be fast, but I wouldn&#39;t bet my application&#39;s performance on it ;)
T75 0 u_Will Hardwick-Smith : Additionally, if <i>a</i> or <i>b</i> are arrays of primitive types, their streams will need to be <code>.boxed()</code> so they are of type <code>Stream</code> rather than e.g. <code>IntStream</code> which cannot be passed as a parameter to <code>Stream.concat</code>.
T75 0 u_Holger : @Will Hardwick-Smith: no, you only have to pick the right stream class, e.g. if <code>a</code> and <code>b</code> are <code>int[]</code>, use <code>int[] both = IntStream.concat(Arrays.stream(a), Arrays.stream(b)).toArray();</code>
T75 0 u_Lii : @Supuhstar: It is probably not as fast as <code>System.arrayCopy</code>. But not particularly slow either. You probably have to do this a <i>very</i> many times with <i>huge</i> arrays in <i>really</i> performance sensitive contexts for the execution time difference to matter.
T76 0 u_Sina Madani : I wonder which is faster and more memory efficient: the concat method or flatMap? Or are they the same under the hood?
T76 0 u_Dave L. : The latter solution is nice because it can be used for more than 2 arrays unlike most (if not all) the other answers.
T76 0 u_Holger : @SinaMadani with all known implementations, the variant using <code>concat</code> will be faster and need less memory, because it can predict the resulting array size beforehand and will create and fill only one array. In contrast, the <code>flatMap</code> based solution will have to use a resizable buffer internally, with at least one final copying step.
T76 0 u_Artsiom Chapialiou : Is it possible to make it works for generic type (like in the answer above)? Something like <code>T[] both = Stream.of(a, b).flatMap(Stream::of).toArray(T[]::new);</code> Looks like <code>T[]::new</code> isn&#39;t allowed cause of type erasure...
T76 0 u_Lii : @ArtsiomChapialiou: You can, but it&#39;s not so pretty. You have to use reflection to create the array, and thus get an unchecked cast. I added that to the solution text.
T77 0 u_ : This answer is more correct than try it because current behavior is not the same as guaranteed behavior. 
T78 0 u_ : This question comes into play during Joshua Bloch's chapter on object equality in Effective Java - amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683 
T77 0 u_Andy Thomas : Specifically, in Item 8, he notes that in equals() methods, one instanceof operator serves two purposes - it verifies that the argument is both non-null and of the correct type. &quot;...[S]o you don&#39;t need a separate null check.&quot;
T78 0 u_Ben Thurley : I don&#39;t see them ever changing this. It can only return true or false so how can can it ever be true for a null reference to be an instanceof anything?
T77 0 u_Andy Thomas : @BenThurley - Java&#39;s <code>instanceof</code> operator was part of Java 1.0, released almost 20 years ago. Changing the behavior now in a way that would break existing code is unlikely, absent some benefit that outweighs that huge cost. Twenty years ago, maybe there could have been arguments for returning true iff the argument could be cast, or throwing an exception for a null argument. But those definitions would have required separate null checks.
T78 0 u_Ben Thurley : Exactly my point. It&#39;s true that current behaviour is not the same as guaranteed behaviour but in this case I think it&#39;s pretty well guaranteed.
T77 0 u_Andy Thomas : @BenThurley - The behavior is guaranteed by Java specifications past and present. I think Luke&#39;s point addresses the limitations of experimentation in determining the guaranteed behavior of the present.
T78 0 u_GabrielBB : Why the compiler let you do this: &quot;null instance of Class&quot; lol. I mean, if it is a hardcoded null, it doesn&#39;t make sense to even ask it
T77 0 u_Holger : @GabrielBB that’s like writing with a red pen on a red paper. Even if it makes no sense, it’s possible due to the general possibility to combine an arbitrary pen with an arbitrary paper. And implementing a “writing on the same color” check into a pen would complicate the technology for little to no benefit.
T79 0 u_Stephen C : See &quot;Additional Notes #1&quot; of my Answer.  For a better explanation of this problem.
T79 0 u_kmort : @StephenC Yes, your answer is more complete (and of course, +1), but this particular answer had the word &quot;package&quot; in it, which allowed me to find what I needed fast. And it worked. So +1 Razavi. StephenC, yours lacks the simple package example I needed as I am new to Java.
T79 0 u_John : This was exactly my problem. I have been wading through tons of Java doc and this concrete example is what I needed
T80 0 u_M-Razavi : Its better to make &#39;Runnable JAR File&#39; to execute class file.
T79 0 u_Pixel : Yes, concrete example is nice, this worked perfectly. I&#39;m sure the main answer is very thorough, but it was difficult to see the tree for the forest. Nice one @Razavi
T79 0 u_Spara : I like this shorter and useful answer instead of accepted one!
T81 0 u_Alex Spurling : This is probably the best solution presented so far. The reason I didn&#39;t spot this facility when I first looked at the DecimalFormat class is that it was only introduced in Java 1.6. Unfortunately I&#39;m restricted to using 1.5 but it will be useful to know for the future.
T82 0 u_Martin Clemens Bloch : Doesn&#39;t work with exponent decimalformats, say format(&quot;0.0E00&quot;). It will in this example round 0.0155 to 0.0E00 instead of 1.6E-02.
T82 0 u_ : I tried this with: "#.##", rounding HALF_UP. 256.335f -> "256.33" ...(example comes from comments to @asterite's answer). 
T81 0 u_Gomino : Please be carefull as DecimalFormat depend on your current Local configuration, you may not get a dot as a separator. I personnally prefer Asterite&#39;s answer below
T82 0 u_CGK : Also be aware that you should not expect DecimalFormat to be thread-safe.  As per <a href="https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html" rel="nofollow noreferrer">Java docs</a>: <i>Decimal formats are generally not synchronized. It is recommended to create separate format instances for each thread. If multiple threads access a format concurrently, it must be synchronized externally.</i>
T81 0 u_user4919188 : how do i make it so that it does a proper rounding so it will not round 0.0004 to 0.001
T82 0 u_Thorsten Niehues : Cannot get this working with HALF_UP: Example <code>DecimalFormat df = new DecimalFormat(&quot;0.00&quot;); 		df.setMaximumFractionDigits(2); 		df.setRoundingMode(RoundingMode.HALF_UP); df.format(3.775)</code> returns 3.77
T81 0 u_Dawood ibn Kareem : It&#39;s not too difficult to create cases where this simply doesn&#39;t work.  I wouldn&#39;t use this method if it&#39;s important to get the correct result.
T81 0 u_fishinear : @ThorstenNiehues Just because you specify it as 3.775, does not mean it has that value internally. Internally it has a binary value, and 3.775 cannot be represented exactly as a binary value. So it might have a value corresponding to 3.77499999999 internally. When rounding, always add the expected accuracy of the value.
T82 0 u_Thorsten Niehues : @fishinear THX :)
T84 0 u_digiarnie : Prior to me putting the high number for the threshold, I had the settings set up like you said already but it still put in the wild card imports (i.e. I had &quot;use single class import&quot; checked and removed all packages in the &quot;packages to use import with *&quot;...
T84 0 u_duffymo : Working for me.  Let me see what else I might have set.  Version 9.0.3 for me.
T84 0 u_digiarnie : So if you do 11 imports of classes from the same package the wild card import doesn&#39;t kick in?  As a test, I have my threshold set to 2.  If I import something from org.hibernate let&#39;s say, it will put the import correctly (fully qualified).  As soon as I import something else from org.hibernate it will stick in the wild card import, which kind of tells me either my version of intellij doesn&#39;t behave like yours or the only solution is to put a high threshold so I never run into this issue
T84 0 u_ : If you're using IntelliJ 12 or later then this can be configured under "Code Style" -> "Java" -> "Imports" 
T84 0 u_duffymo : Read my answer - see the &quot;Click on the Settings&quot; bit?  It&#39;s been true since IntelliJ 7.  Already been answered for more than three years.
T83 0 u_PotataChipz : In case it saves someone else the confusion: In my enthusiasm for never collapsing imports, I put an unreasonably long string of 9&#39;s in the &#39;class count to use...&#39; field, and this caused IntelliJ 12 to silently ignore the value. &#39;9999&#39; works fine.
T83 0 u_Stephen Hartley : Is there really no way to tell Intellij 15 never to use wildcard imports? I mean without specifying a class count??!
T83 0 u_duffymo : Why is adding a class count so oppressive?  Why not ask JetBrains for an enhancement if this is so odious?
T84 0 u_MCory : For the record (at least in IntelliJ Ultimate 2016), trying to set the value to an extremely large number of 9&#39;s won&#39;t work. If you add more than 5 9&#39;s, the &quot;Apply&quot; button grays itself out and the setting won&#39;t take - instead of just <i>not</i> allowing you to only enter 5 9&#39;s. I found this out because I was lazy and just wanted to add a bunch of 9&#39;s to make sure it would never be close to an issue at all :)
T83 0 u_duffymo : Looks like three nines should be enough. If you need more than a thousand imports I&#39;d say your class should be refactored.
T83 0 u_Glenn Bech : Can&#39;t believe programmes programmed a program for programmers the way this is programmed.  This confusing dialog is still not fixed in 2016.3, is there a bug for it, or somewhere we can vote?
T84 0 u_Paulo Merson : Interesting enough, for <i>Kotlin</i> the option is less confusing: &quot;Use import with &#39;*&#39; when at least [99] names used.&quot;
T84 0 u_Thorbj&#248;rn Ravn Andersen : @GlennBech Just contact them on the &quot;Submit feedback&quot; entry in the Help menu.
T85 0 u_StealthVice7 : Why is the nio package better? Does it work in the same way? What even is nio?
T86 0 u_Benoit Vanalderweireldt : It&#39;s not fundamentally better and using the standard io package is fine, I&#39;m not sure where is your error coming from but having a clean example of file deletion (starting with a .) might be a good starting point.
T86 0 u_StealthVice7 : My program works perfectly fine with all other test files I made, but not the <code>.minecraft</code> file.
T85 0 u_ : System.getProperty("user.home") returns the user's desktop on windows. Use System.getProperty("user.home") + "/.." or similar instead. 
T86 0 u_StealthVice7 : What does /.. do? And my program was working fine with all other files with the way I had it.
T86 0 u_Benoit Vanalderweireldt : / is the root path .. means the parent folder so /.. means the parent folder of root which is incorrect
T86 0 u_Majora320 : @BenoitVanalderweireldt Wrong, with <code>&lt;somepath&gt; + &quot;&#47;..&quot;</code> it means the parent folder of <code>&lt;somepath&gt;</code>, so in this case it would return the parent folder of the desktop.
T85 0 u_ : /.. != '"<somepath>" + "/.."' 
T85 0 u_StealthVice7 : Guys I figured out my mistake, the folder had other files inside of it, so I had to delete the insides before I could delete the folder.
T85 0 u_StealthVice7 : Hey can you guys undownvote my question? I can&#39;t post any more.
T87 0 u_Alderath : +1. Imo, this is more constructive than the top voted answer. It comes with two minor downsides though. The PriorityQueue does not support random access. You cannot do peek(elementIndex). So you cannot do e.g. <code>Integer maxVal = prioQueue.peek(prioQueue.size() - 1);</code>. Secondly if you&#39;re intending to use the PriorityQueue simply as a sorted list, it will sound less intuitive to see <code>PriorityQueue</code> in the code than it would have been to see <code>SortedList</code>, if such a data structure existed.
T87 0 u_Alderath : And, after looking at the other question which someone linked in the comments, another <b>big disadvantage</b> is that the iterator of PriorityQueue is not guaranteed to return elements in any specific order. So, unless I am overlooking something, the only way to e.g. print all objects in the PriorityQueue in order is to repeatedly poll() the queue until it is empty. To me, this feels borderline retarted. To print the objects in a PriorityQueue twice, you&#39;d first have to copy the PriorityQueue and then poll() all objects from the original PriorityQueue and then pol()l all objects from the copy.
T88 0 u_Spoike : Hmm... looks like you&#39;re right Alderath. You can&#39;t use the iterator of PriorityQueue to get the elements in expected order. Looks like I have to edit my answer.
T88 0 u_bestsss : Sorted list is implemented via tree, otherwise it&#39;s just way too costy
T87 0 u_bestsss : Priority queue is just a heap, you can access only the top, imo it does not belong to the answer of the question.
T88 0 u_Mike &#39;Pomax&#39; Kamermans : Also worth noting is that <code>Collections.sort()</code> even lets you define the compare function that is used to sort, by using a <code>Comparator</code> object.
T87 0 u_user2223059 : I would argue that there is a need for some kind of sorted, indexed collection. I&#39;m working on an application, and I need a data collection that is accessible via an index number, but maintains a very specific order. I don&#39;t want to have to use sort() or comparators all the time. So yeah, I&#39;m probably going to create a custom collection that just inherits from Collection, rather than list, that fulfills this function.
T87 0 u_Caitlin : The TreeMultiset allows for multiples in a really weird way. If you have two objects that have the same key, instead of actually inserting all of the objects into the Multiset, it just keeps track of the count that match that key. This is fine if you are using primitives. But if you are using objects, and plan on using other pieces of the object, it won&#39;t return the objects expected.
T88 0 u_juanmf : @Spoike ` because the add methods should ensure that the element will reside in the index that the user specifies` actually,it adds at the end, you can specify index in a Map, with <code>put()</code>. Am I confused?
T88 0 u_Spoike : @juanmf The key (or index) for a <code>Map</code> is not the same thing as the index for a <code>List</code>. Using <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html#put(K,%20V)" rel="nofollow noreferrer"><code>put()</code></a> there is no way for sure that putting something in a lower number and something in a higher number will come in the order you want when you iterate on the entrySet of the map (i.e. unless you sort the entrySet by the key).
T88 0 u_Torque : A huge downside to all of these suggestions is the missing .sub*-function that SourtedMap and SortedSet provide, and that at least in my experience is the most needed feature.
T88 0 u_Marcono1234 : @Spoike, the own implementation of a SortedList can be written more efficiently. Since a random access list is used (<code>ArrayList</code>) and you know that it is already sorted before adding a new item, you can use <code>Collections.binarySearch</code> to get the index where the new item should be inserted.
T90 0 u_rmeador : You don&#39;t need to create a class to pass by reference in java (though that would certainly work).  You can use the <code>Integer</code> class, which is part of the standard library, and it even has the benefit of being auto-boxed to and from <code>int</code> <i>almost</i> transparently.
T89 0 u_ILMTitan : @rmeador Integer is immutable, so you still couldn&#39;t change its value. AtomicInteger, however, is mutable.
T90 0 u_Dan Tao : @rmeador: I&#39;m asking because I honestly don&#39;t know, not to challenge you: how would this work, what you&#39;re suggesting? What I mean is, how can you assign a new value to <code>x</code> from within a method, even if it <i>is</i> boxed as an <code>Integer</code>? (Is the <code>Integer</code> type not immutable?) I know that in .NET, using C# for example, you could box an <code>int</code> as <code>object</code> but you still wouldn&#39;t be able to <i>assign</i> a new value to the variable holding that <code>int</code> from within a method, unless it were passed as a <code>ref</code> parameter.
T90 0 u_rmeador : @Dan Tao: yeah, as @ILMTitan points out, it&#39;s immutable... I forgot that little detail.  The suggestion of AtomicInteger seems reasonable, but I don&#39;t think you get autoboxing with that class.
T89 0 u_axtavt : @Dan: By the way, <code>x</code> in your last example must be declared <code>volatile</code>, otherwise it&#39;s an undefined behaviour and seeing <code>1</code>s is implementation specific.
T90 0 u_Dan Tao : @axtavt: Good point -- I actually discovered this myself after last updating my answer when I changed the code only slightly and saw different behavior (all 0s, no 1s). I&#39;ve updated the answer to include the <code>volatile</code> keyword so that the program&#39;s behavior is defined.
T90 0 u_ : simple answer: operator precedence of ++ before =. See cppreference.com/wiki/operator_precedence The "infinite loop" part of title is misleading. 
T89 0 u_Dan Tao : @burkestar: I don&#39;t think that link is <i>quite</i> appropriate in this case, since it&#39;s a Java question and (unless I&#39;m mistaken) the behavior is actually undefined in C++.
T90 0 u_Tom Brito : Something to say about my last comment on the question?: It&#39;s very strange that in C language the behavior is different. Maybe in C it first read the value and then, later, it increments, while in Java it increments then return the old value..
T89 0 u_detly : @Tom Brito - in C it&#39;s not defined... the <code>++</code> <i>could</i> be done before or after assignment. Practically speaking, there might a compiler that does the same thing as Java, but you wouldn&#39;t want to bet on it.
T89 0 u_Jason C : This is a very verbose way of saying the right side of an assignment expression is evaluated first.
T90 0 u_ : @burkestar Operator precedence is irrelevant here because (x = x)++ isn't legal. And the "infinite loop" part of the title is a fact; it's not at all "misleading". 
T91 0 u_jaxad0127 : Just to note, <code>main</code> could be a keyword that is only usable as a name for a static method with an appropriate signature (or whatever). Note that super class calls use <code>super</code> in a way that makes it look like an identifier: <code>super(foo);</code> and <code>super.foo</code>, but <code>super</code> IS a keyword (and before generics were added, this was the only way to use it (that I can remember)).
T92 0 u_davidxxx : @jaxad0127 Interesting point but I don&#39;t agree completely.  Actually it IS not and in the future it could probably not be for still compatibility reasons. If you defined <code>main</code> as a keyword in a new version of java, it means that any code that uses main as method name (or any member names) will not compile any longer.   The usage of <code>super</code> in generics doesn&#39;t have any side effect in existing code as generics didn&#39;t exist at this time.
T91 0 u_jaxad0127 : I just meant that it COULD have been done as a keyword. Just because it looks like an identifier, doesn&#39;t mean it has to be.
T92 0 u_GeroldBroser reinstates Monica : @jaxad0127 Without going too deep into the JLS and for the two cases you mention I think it can be said that <code>super</code> is a special expression: It represents a reference to a <code>Class</code> object to be used with the object&#39;s constructor and its members.
T91 0 u_AJPerez : I would argue that <code>main</code> is still a better identifier than <code>java1234</code>. Using it for a &quot;regular&quot; method would be misleading, but I&#39;d have no problem naming a variable <code>main</code>, if it&#39;s actually the main something in my method. <code>java1234</code> is just awful, names should be descriptive...
T91 0 u_jpmc26 : &quot;About the question, is main a good identifier?&quot; It depends. I probably wouldn&#39;t bat an eye at a variable named <code>main</code> if the function I was looking at did something with water main data. I&#39;d throw up if I <i>ever</i> saw <code>java1234</code> in production code (and pray there were not 1233 other variables with the prefix <code>java</code>).
T92 0 u_Holger : @jaxad0127 <code>main</code> could have been defined to be a keyword, it could still become a keyword, just like <code>_</code> stopped to be a legal identifier, however, it is not and this was a deliberate decision. The Java designers decided that, e.g. <code>goto</code> and <code>const</code> are keywords, to prevent their use as misleading identifiers, but <code>main</code> does not require such special treatment.
T91 0 u_davidxxx : @AJPerez I completely agree. But well both are bad.  You could notice that I added <code>main</code> as variable name but I didn&#39;t quote it in things that we don&#39;t want (not the hazard). But I will remove it to be consistent.
T94 0 u_serg : Looks nice and simple, only I have feeling that shutdown here is used not for what it was designed (or it is fine?).
T94 0 u_cletus : It&#39;s a common pattern. Transient threadpools like the above are good for several reasons and I pretty much always prefer them to persistent threadpools where a lot more can go wrong or at least it can be harder to figure out. The above is really straightforward which is why I like it.
T93 0 u_matt b : this is exactly what shutdown / awaitTermination are meant for
T93 0 u_sjlee : It is a good pattern if this task handling is a one-time event.  If this is done repeatedly during the same runtime, however, it is not optimal, as you would create and tear down threads repeatedly every time it is executed.
T94 0 u_象嘉道 : This pattern is <b>incomplete</b>: Some unsubmitted tasks may be never executed.
T94 0 u_inanutshellus : @Kejia It is not incomplete... Think about it this way: Your main thread is spawning off subthreads in a loop. When it&#39;s done adding, you run this code. <b>You might see output out of order</b>, but all of your tasks will have been spun off. Thanks @Cletus!
T93 0 u_Sam Harwell : I&#39;m looking for any official documentation that <code>Long.MAX_VALUE, TimeUnit.NANOSECONDS</code> is equivalent to not having a timeout.
T94 0 u_Brad : @serg is this still considered the best answer over using <code>invokeAll()</code> as proposed by sjlee?
T94 0 u_rogerdpack : I can&#39;t believe that you have to use shutdown in order to join on all the current threads (after using shutdown, you cannot use the executor again ever).  Suggest using list of Future&#39;s instead...
T94 0 u_jontejj : As I&#39;m testing this out I found that the executor finishes before all tasks have completed. If I use Thread.sleep(100) before calling shutdown() it works. So I suspect that there may be some timing issues with your code if the time between adding tasks to the shutdown call is too small.
T94 0 u_Nazgul : this wont work if you dont want to shutdown the executor. For a perpetually running batch kind of thing u need to submit jobs and wait for them to finish before jumping ahead. In Such a case a latch or a barrier makes more sense than a shutdown.
T93 0 u_gerrytan : IMO it&#39;s probably not a wise thing to NOT have a timeout. There&#39;s always a likelihood your task is stuck / deadlocking and the user would wait forever.
T94 0 u_Zero3 : @ashutosh I can&#39;t find any documentation on this. It appears to be a method of a Spring library, and not plain Java functionality.
T94 0 u_ : @SamHarwell see the java.util.concurrent package documentation under the Timing section: To wait "forever", you can use a value of Long.MAX_VALUE 
T94 0 u_ToolmakerSteve : @ashutosh 1) That requires <i>springframework</i>.  2) Doesn&#39;t look any simpler to me than shutdown/awaitTermination.
T94 0 u_Praveen Kumar : Is it better than using infinite loop while checking isTerminated() ?
T94 0 u_Sergio Bilello : If I don&#39;t want to shutdown because I want to keep my executor alive. How can I know the maximum number of pending tasks that could I have there?
T94 0 u_hinneLinks : @SamHarwell <code>TimeUnit.NANOSECONDS</code> and <code>Long.MAX_VALUE</code> equals 106,751 Days or 292 years (<code>TimeUnit.NANOSECONDS.toDays(Long.MAX_VALUE);</code>), that should be enough, or use some of the bigger TimeUnits.
T94 0 u_eli-bd : When sizing thread pools, it is often useful to base the size on the number of logical cores in the machine running the application. In Java, you can get that value by calling Runtime.getRuntime().availableProcessors(). In this case, it would be Math.min(4, Runtime.getRuntime().availableProcessors());
T93 0 u_Jobs : executor.shutdown(); is stopping my program !!
T94 0 u_Mobigital : Java apis are pretty terrible. Thank you for this insight.
T94 0 u_gaurav : @cletus is awaitTermination() necessary after shutdown()?
T96 0 u_Ulrich Schmidt : Well, this effectively means that any Function can always be used as a Consumer, right? I wasn&#39;t aware of this design choice, so thanks for pointing this out. Still, why then are Function Lambdas like s -&gt; s not allowed as Consumer arguments?
T96 0 u_Czyzby : Well, there&#39;s always the Java typing issue, so you can&#39;t pass a constructed <code>Function</code> as <code>Consumer</code> or cast/assign it to a <code>Consumer</code> variable. It still uses the same old Java typing mechanism - you can think of lambdas as anonymous classes, except with prettier syntax and different internals. (I won&#39;t go into details, but chances are that they do not compile into the same exact bytecode.) <i>However</i>, any method that could construct a <code>Function&lt;A, B&gt;</code> (that consumes type <code>A</code>), could be used to construct a <code>Consumer&lt;A&gt;</code>.
T95 0 u_Czyzby : About the <code>s -&gt; s</code> - my guess is that if you explicitly define a new lambda without referencing an existing method, you <i>have</i> to follow its exact method signature. In this case, <code>Consumer&lt;String&gt;</code> does not return anything, so you cannot just end the lambda with a line that basically stands for <code>return s;</code>. <code>s -&gt; s.toString()</code> (which would pretty have the same result) should work, as the method would be simply invoked and its result (<code>s</code>) would be ignored.
T96 0 u_Ulrich Schmidt : It does work indeed! Amazing! <code>s -&gt; s</code> triggers a compiler error &quot;Void methods cannot return a value&quot; but <code>s -&gt; s.toString()</code> is accepted. I still don&#39;t understand the difference between these two Lambda expressions.
T95 0 u_Czyzby : <code>s -&gt; s</code> is an equivalent of <code>s -&gt; { return s; }</code>, which fails to compile, as <code>Consumer</code> method cannot return a value. <code>s -&gt; s.toString()</code> might seem to &quot;do&quot; the same thing, but it actually is an equivalent of <code>s -&gt; { s.toString(); }</code>, which simply invokes a method, but does not return anything. So - in the first example, you&#39;re trying to <i>return</i> a value. In the second, you&#39;re actually invoking a method and ignoring its result.
T96 0 u_ : I think I understand it now :-) If the target type is a Consumer, then s -> s.toString()is interpreted as s -> { s.toString(); }. If the target type is a Function, then the same lambda is interpreted as s -> { return s.toString(); } 
T95 0 u_Czyzby : Yes, that&#39;s it. Is there anything you&#39;d like me to add to the original answer or can it be accepted as it is?
T96 0 u_Ulrich Schmidt : Your original answer is certainly acceptable in light of our discussion. Thanks again for your patience in explaining these things. Type inference does sometimes lead to suprising conclusions!
T95 0 u_Brian Goetz : Here&#39;s the basis for this design decision: Java allows you to <i>call</i> a method and ignore the return value (a method invocation expression as a statement).  Since we allow this at the invocation, we also allow this when adapting a method to a functional interface whose arguments are compatible but the functional interface is void-returning.
T95 0 u_Brian Goetz : Note also that we&#39;ll do other adaptations (boxing, unboxing) to make the shape of the lambda match up with the expected shape of the functional interface.  Ignoring a return value is just one of those adaptations.
T96 0 u_Hank D : A convenient way to adapt a <code>Function&lt;T,R&gt;</code> to a <code>Consumer&lt;T,R&gt;</code> is to append <code>::apply</code> to a Function instance; then the Function return type can be ignored like any other method that returns a value, e.g. <code>Function&lt;String,Integer&gt; f = String::length; Consumer&lt;String&gt; c = f::apply;</code>
T98 0 u_Martin : This has changed now. You can use Java 7 as well. As long as you don&#39;t use try with resources.
T97 0 u_Ben Leggiero : Did Java 8 change the way the bytecode works? If not, it should be fine to use any version of Java, theoretically, as long as it compiles.
T97 0 u_Eng. Samer T : the correct question is: what if you use new features in java 8 not exists in java 7 to build android app, is it ok? to be on safe side follow official instructions.
T97 0 u_ : @BenC.R.Leggiero there's no new bytecode in Java 8, but the instructions' meanings and structures were changed stackoverflow.com/questions/28228450/… stackoverflow.com/questions/16143684/… 
T97 0 u_Aleksandr Dubinsky : Please do not post &quot;Update N&quot; in your answer. Rewrite it to have up-to-date information. Otherwise, SO will in a few years be as difficult to get information from as the forums it superseded.
T98 0 u_Neon Warge : As I understand it, It says Android N is supporting Java 8, so it means APIs &lt; Android N doesn&#39;t have it. Is this correct?
T98 0 u_ : Jack toolchain is now deprecated as per this announcement. Replacement is in the works. 
T98 0 u_user239558 : This answer needs to be updated.  The first sentence &quot;I think it is too early to say if Java 8 is suitable for Android development&quot; is completely outdated an links to old data.  The &quot;Updated&quot; stuff is also very old.
T98 0 u_Guillaume Husta : Not all Java 7 features are available in Android. Like the package <a href="https://developer.android.com/reference/java/nio/file/package-summary.html" rel="nofollow noreferrer">java.nio.file</a>. It will be available in Android O as I understand ?
T97 0 u_Юрій Мазуревич : Answer need to be update. Java 8 will is supported as of Android Studio 3.0 and Gradle Plugin 3.0.
T100 0 u_Federico Peralta Schaffner : So maybe this should be reported as a bug?
T100 0 u_Holger : @FedericoPeraltaSchaffner I don’t know whether the behavior matches the specification. I just used the word “flaw” from the practical point of view. I didn’t have the time to check the specification yet and this part of the spec is one of toughest…
T99 0 u_JimmyB : I don&#39;t think it&#39;s a &quot;flaw&quot;: <code>Consumer&lt;? super Supplier&gt;</code> would even match <code>Consumer&lt;Object&gt;</code>, and <code>Object</code> is not a funtional interface. By downcasting to <code>Supplier</code> you make the potentially-Object an instance of a functional interface again.
T99 0 u_Holger : @JimmyB <code>Consumer&lt;? super Supplier…&gt;</code> <i>could</i> be a <code>Consumer&lt;Object&gt;</code>, but you see at the <code>action</code> variable that the compiler does not assume <code>Consumer&lt;Object&gt;</code>, as the lambda expression <code>s -&gt; System.out.println(s.get())</code> invokes the supplier’s <code>get</code> method without problems. Here, the compiler <i>does</i> assume the most specific type which is <code>Consumer&lt;Supplier&lt;? extends String&gt;&gt;</code>. And it could do the same for the invocation of <code>accept</code>. See the last example of my answer which doesn’t have a type cast. These assignments are valid.
T99 0 u_JimmyB : @Holger No, your last example does not have an explicit cast. But your <code>supp</code> is <i>not</i> of type <code>? super Supplier</code> but of type <code>Supplier</code> which amounts to the same as the other example with an explicit cast. When <i>using</i> <code>action</code> its <i>declared</i> type is what matters to the compiler, and that type does not guarantee that there&#39;s a supplier involved. In other words, <code>? super Supplier</code> means that <code>consumer.accept(new Object())</code> would be valid w.r.t. generic types. Hence, the compiler only knows that some <i>object</i> is required and fails to see how <code>customer::getName</code> should target the non
T99 0 u_ : functional interface type Object. 
T100 0 u_JimmyB : By the way, <code>? super X</code> is meant to designate some kind of &#39;container&#39; for objects of type <code>X</code>, i.e. it is guaranteed that I can assign an instance of type <code>X</code> to a given variable (ensures assignability). In the case of the OP this is not needed because he won&#39;t be assigning anything to the given supplier reference inside his consumer.
T99 0 u_ : @JimmyB You can not do consumer.accept(new Object()). The declaration Consumer<? super Supplier<? extends String>> action implies that you can assign a Consumer<Object> to action, because a Consumer<Object> can also handle Supplier<? extends String> arguments in its accept method. But since it is also possible to assign a Consumer<Supplier<? extends String>> to it, as happening implicitly in my examples, it would never be valid to pass new Object() to the accept method. The argument to accept must be assignable to Supplier<? extends String>. So why not infer that… 
T100 0 u_JimmyB : @Holger No, the argument to accept must be a <i>super</i> type of Supplier. That&#39;s what ? super Supplier declares, and that does not make sense in this case. Consumer&lt;Supplier&gt; declares what you intend, making only instances of Supplier acceptable.
T100 0 u_Holger : @JimmyB: Apparently, you are so convinced of yourself that you didn’t even <i>try</i> it. Since you are only repeating yourself, this pointless discussion has to stop here.
T100 0 u_JimmyB : @Holger While I do understand your point, obviously the compiler proves both of us wrong: It does not in fact accept <code>new Object()</code> (<b>although</b> the effective declared method becomes <code>accept(Object t)</code>), but on the other hand it does not infer the need for  a <code>Supplier</code> (<b>because</b> the effective declared method becomes <code>accept(Object t)</code>).
T100 0 u_Holger : @JimmyB: There is no such thing as “effective declared method”. Apparently you are confusing this with type erasure, but type erasure has nothing to do with what is valid under the generic type system. As said several times, the signature <code>Consumer&lt;? super Type&gt;</code> implies that the <code>accept</code> method requires <code>Type</code>, the relevant difference to <code>Consumer&lt;Type&gt;</code> is that the actual implementation may be a consumer of a super type. But in the example of the answer, it is not. There, it is a <code>Consumer&lt;Supplier&lt;? extends String&gt;&gt;</code>.
T100 0 u_JimmyB : @Holger Yes, I am referring to type erasure. And through that, <code>Consumer&lt;? super X&gt;</code> gets its <code>accept()</code> as <code>accept(&lt;? super X&gt;)</code> (itself not valid syntax), and that method should accept anything of <code>X</code> or a super type, hence when typing eclipse offers me <code>accept(Object t)</code>.
T100 0 u_JimmyB : @Holger I think, together we can pin down the issue: You are correct in that <code>Consumer&lt;? super X&gt; action</code> says something about <i>which</i> kinds of consumers may be assigned to <code>action</code>; could be <code>Constumer&lt;Object&gt;</code> if one wants. Now, <i>if</i> I assigned a <code>Constumer&lt;Object&gt;</code> to <code>action</code> at some point in my program, <code>action.accept(...)</code> would accept <code>Object</code> which is not a functional interface. Thus, from the <i>declared</i> type of <code>action</code> the compiler cannot infer that the actual instance is restricted to functional interfaces, because it might not.
T100 0 u_JimmyB : Btw, I just tried once more and my eclipse Neon actually only suggests <code>accept(Supplier&lt;...&gt; t)</code> while Oxygen on my laptop showed <code>accept(Object t)</code>.
T100 0 u_Holger : @JimmyB there is no need for the target type to be “restricted to functional interfaces”. See, whenever there is a variable or parameter of type <code>X</code>, <code>X</code> being a functional interface, you could also assign <code>Y</code>, a subtype of <code>X</code> not being a functional interface. The variable is never “restricted to functional interfaces”. And once you have assigned the lambda expression to a variable or parameter of a functional interface type, the receiving code could always assign that to a wider type like <code>Object</code>. All that matters is whether the compiler understands what to do before assigning the result.
T100 0 u_Holger : @JimmyB Regarding type erasure, when you write, e.g. <code>Set&lt;Runnable&gt; l = Collections.singleton(() -&gt; System.out.println(&quot;hello&quot;));</code>, you are also passing the lambda expression to a method receiving <code>Object</code> under the cover, as <code>singleton</code> accepts arbitrary types, not even remotely restricted to lambda expression. It’s only our generic (compile-time) usage, i.e. assigning to a <code>Set&lt;Runnable&gt;</code> (which will be just <code>Set</code> after erasure), which determines the lambda’s target type for the compiler.
T100 0 u_JimmyB : @Holger Not sure I get your point. If <code>X</code> is a functional interface, then <code>Y</code> extending <code>X</code> should implicitly be a functional interface too. So whatever I can do on a functional interface <code>X</code>, I can do on <code>Y</code> too.
T100 0 u_ : Supplier<String> s = obj::toString; works, Object o = obj::toString; doesn't. 
